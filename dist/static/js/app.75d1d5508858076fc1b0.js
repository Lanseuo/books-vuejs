webpackJsonp([1],{E4zd:function(t,e){},Ftd5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("Sazm"),r=a.n(i),o={name:"navbar",data:()=>({isLoggedIn:!1,currentUser:!1}),created(){r.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=r.a.auth().currentUser.email)},methods:{logout(){r.a.auth().signOut().then(()=>{this.$router.go({path:this.$router.path})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("div",{staticClass:"nav-wrapper cyan darken-3"},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"brand-logo",attrs:{to:"/"}},[t._v("Book Manager")]),t._v(" "),a("ul",{staticClass:"right"},[t.isLoggedIn?a("li",[a("a",[t._v(t._s(t.currentUser))])]):t._e(),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"dashboard",params:{}}}},[t._v("Dashboard")])],1),t._v(" "),t.isLoggedIn?t._e():a("li",[a("router-link",{attrs:{to:{name:"login",params:{}}}},[t._v("Login")])],1),t._v(" "),t.isLoggedIn?t._e():a("li",[a("router-link",{attrs:{to:{name:"register",params:{}}}},[t._v("Register")])],1),t._v(" "),t.isLoggedIn?a("li",{on:{click:t.logout}},[a("a",{attrs:{href:"#"}},[t._v("Logout")])]):t._e()])],1)])])},staticRenderFns:[]};var l={name:"app",components:{NavBar:a("VU/8")(o,n,!1,function(t){a("x1FY")},"data-v-ab0ef218",null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("NavBar"),this._v(" "),e("div",{staticClass:"container"},[e("router-view")],1)],1)},staticRenderFns:[]},u=a("VU/8")(l,c,!1,null,null,null).exports,d=a("/ocq");a("3VHS");var v=r.a.initializeApp({apiKey:"AIzaSyCxflHlNVDaoKegzUqBSvdtwS-jQOmwrR8",authDomain:"books-vuejs.firebaseapp.com",databaseURL:"https://books-vuejs.firebaseio.com",projectId:"books-vuejs",storageBucket:"books-vuejs.appspot.com",messagingSenderId:"1071124655712"}).firestore(),m={name:"dashboard",data:()=>({books:[]}),created(){v.collection("books").orderBy("name").get().then(t=>{t.forEach(t=>{const e={id:t.id,name:t.data().name,author:t.data().author,description:t.data().description,rating:t.data().rating,cover:t.data().cover,genre:t.data().genre};this.books.push(e)})})}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashbaord"}},[a("h3",[t._v("Dashboard")]),t._v(" "),a("ul",{staticClass:"collection with-header"},t._l(t.books,function(e){return a("li",{key:e.id,staticClass:"collection-item"},[a("div",{staticClass:"chip"},[t._v(t._s(e.genre))]),a("strong",[t._v(t._s(e.author))]),t._v(" - "+t._s(e.name)+"\n      "),a("router-link",{staticClass:"secondary-content",attrs:{to:{name:"view-book",params:{book_id:e.id}}}},[a("i",{staticClass:"fa fa-eye"})])],1)})),t._v(" "),a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large",attrs:{to:"/new"}},[a("i",{staticClass:"fa fa-plus"})])],1)])},staticRenderFns:[]},g=a("VU/8")(m,p,!1,null,null,null).exports,h={name:"edit-book",data:()=>({id:null,name:null,author:null,description:null,rating:null,cover:null,genre:null}),created:function(){this.fetchData()},methods:{fetchData(){var t=this;v.collection("books").doc(this.$route.params.book_id).get().then(function(e){e.exists&&(t.id=e.id,t.name=e.data().name,t.author=e.data().author,t.description=e.data().description,t.rating=e.data().rating,t.cover=e.data().cover,t.genre=e.data().genre)})},updateBook(){var t=this;v.collection("books").doc(this.$route.params.book_id).get().then(function(e){e.exists?e.ref.update({name:t.name,author:t.author,description:t.description,rating:t.rating,cover:t.cover,gerne:t.genre}).then(()=>{t.$router.push({name:"view-book",params:{book_id:t.id}})}):(console.log("Book not found"),t.$router.push("/"))})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"new-book"}},[t.name?a("h3",[t._v(t._s(t.name))]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",on:{submit:function(e){e.preventDefault(),t.updateBook(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{type:"text",required:""},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.genre,expression:"genre"}],attrs:{type:"text",required:""},domProps:{value:t.genre},on:{input:function(e){e.target.composing||(t.genre=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cover,expression:"cover"}],attrs:{type:"text",required:""},domProps:{value:t.cover},on:{input:function(e){e.target.composing||(t.cover=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rating,expression:"rating"}],attrs:{type:"number",value:"42",min:"1",max:"5",required:""},domProps:{value:t.rating},on:{input:function(e){e.target.composing||(t.rating=e.target.value)}}})])]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Update")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:"/"}},[t._v("Cancel")])],1)])])},staticRenderFns:[]},f=a("VU/8")(h,_,!1,null,null,null).exports,b={name:"new-book",data:()=>({id:null,name:null,author:null,description:null,rating:null,cover:null,genre:null}),methods:{saveBook(){v.collection("books").add({name:this.name,author:this.author,description:this.description,rating:this.rating,cover:this.cover,genre:this.genre}).then(t=>this.$router.push("/")).catch(t=>console.log(err))}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"new-book"}},[t.name?a("h3",[t._v(t._s(t.name))]):a("h3",[t._v("New book")]),t._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",on:{submit:function(e){e.preventDefault(),t.saveBook(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("label",[t._v("Name")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{type:"text",required:""},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}}),t._v(" "),a("label",[t._v("Author")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.genre,expression:"genre"}],attrs:{type:"text",required:""},domProps:{value:t.genre},on:{input:function(e){e.target.composing||(t.genre=e.target.value)}}}),t._v(" "),a("label",[t._v("Genre")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),a("label",[t._v("Description")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cover,expression:"cover"}],attrs:{type:"text",required:""},domProps:{value:t.cover},on:{input:function(e){e.target.composing||(t.cover=e.target.value)}}}),t._v(" "),a("label",[t._v("Cover")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rating,expression:"rating"}],attrs:{type:"number",value:"42",min:"1",max:"5",required:""},domProps:{value:t.rating},on:{input:function(e){e.target.composing||(t.rating=e.target.value)}}}),t._v(" "),a("label",[t._v("Rating")])])]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Add")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:"/"}},[t._v("Cancel")])],1)])])},staticRenderFns:[]},w=a("VU/8")(b,C,!1,null,null,null).exports,k={name:"view-book",data:()=>({id:null,name:null,author:null,description:null,rating:null,cover:null,genre:null}),created(){this.fetchData()},methods:{fetchData(){var t=this;v.collection("books").doc(this.$route.params.book_id).get().then(function(e){e.exists?(t.id=e.id,t.name=e.data().name,t.author=e.data().author,t.description=e.data().description,t.rating=e.data().rating,t.cover=e.data().cover,t.genre=e.data().genre):(console.log("Book not found"),t.$router.push("/"))})},deleteBook(){var t=this;confirm("Are you sure?")&&v.collection("books").doc(this.$route.params.book_id).get().then(function(e){e.exists?(e.ref.delete(),t.$router.push("/")):(console.log("Book not found"),t.$router.push("/"))})}},computed:{stars:function(){for(var t=[],e=0;e<this.rating;e++)t.push(1);return t},lightStars:function(){for(var t=[],e=0;e<5-this.rating;e++)t.push(1);return t}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"view-book"}},[a("ul",{staticClass:"collection with-header"},[a("li",{staticClass:"collection-header"},[a("h4",[t._v(t._s(t.name))])]),t._v(" "),a("li",{staticClass:"collection-item"},[a("img",{staticClass:"book-cover responsive-img",attrs:{src:t.cover,alt:"book cover"}})]),t._v(" "),a("li",{staticClass:"collection-item"},[t._l(t.stars,function(t){return a("i",{staticClass:"fa fa-star",attrs:{"aria-hidden":"true"}})}),t._l(t.lightStars,function(t){return a("i",{staticClass:"fa fa-star-o",attrs:{"aria-hidden":"true"}})})],2),t._v(" "),a("li",{staticClass:"collection-item"},[t._v(t._s(t.genre))]),t._v(" "),a("li",{staticClass:"collection-item"},[t._v(t._s(t.author))]),t._v(" "),a("li",{staticClass:"collection-item"},[t._v(t._s(t.description))])]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:"/"}},[t._v("Back")]),t._v(" "),a("button",{staticClass:"btn red",on:{click:t.deleteBook}},[t._v("Delete")]),t._v(" "),a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large",attrs:{to:{name:"edit-book",params:{book_id:t.id}}}},[a("i",{staticClass:"fa fa-pencil"})])],1)],1)},staticRenderFns:[]};var y=a("VU/8")(k,x,!1,function(t){a("E4zd")},"data-v-19af0d97",null).exports,$={name:"login",data:()=>({email:"",password:""}),methods:{login(){r.a.auth().signInWithEmailAndPassword(this.email,this.password).then(t=>{alert(`You are logged in as ${t.email}`),this.$router.go({path:this.$router.path})}).catch(t=>{console.log(t),alert(t)})}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login1"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 m8 offset-m2"},[a("div",{staticClass:"login card-panel cyan white-text center"},[a("h3",[t._v("Login")]),t._v(" "),a("form",{on:{submit:function(e){e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("label",{staticClass:"white-text",attrs:{for:"email"}},[t._v("Email")])]),t._v(" "),a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("lock")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("label",{staticClass:"white-text",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("button",{staticClass:"btn btn-large grey lighten-4 black-text"},[t._v("Login")])])])])])])])])},staticRenderFns:[]};var N=a("VU/8")($,P,!1,function(t){a("yPkf")},null,null).exports,q={name:"register",data:()=>({email:"",password:""}),methods:{register(){r.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(t=>{alert(`Account created for ${t.email}`),this.$router.go({path:this.$router.path})}).catch(t=>{console.log(t),alert(t)})}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login1"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 m8 offset-m2"},[a("div",{staticClass:"login card-panel grey lighten-4 black-text center"},[a("h3",[t._v("Register")]),t._v(" "),a("form",{on:{submit:function(e){e.preventDefault(),t.register(e)}}},[a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("label",{attrs:{for:"email"}},[t._v("Email")])]),t._v(" "),a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("lock")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("button",{staticClass:"btn btn-large grey lighten-4 black-text"},[t._v("Register")])])])])])])])])},staticRenderFns:[]};var B=a("VU/8")(q,U,!1,function(t){a("Ftd5")},null,null).exports;s.a.use(d.a);let E=new d.a({routes:[{path:"/",name:"dashboard",component:g},{path:"/login",name:"login",component:N,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:B,meta:{requiresGuest:!0}},{path:"/new",name:"new-book",component:w,meta:{requiresAuth:!0}},{path:"/edit/:book_id",name:"edit-book",component:f,meta:{requiresAuth:!0}},{path:"/:book_id",name:"view-book",component:y}]});E.beforeEach((t,e,a)=>{t.matched.some(t=>t.meta.requiresAuth)?r.a.auth().currentUser?a():a({path:"/login",query:{redirect:t.fullPath}}):t.matched.some(t=>t.meta.requiresGuest)&&r.a.auth().currentUser?a({path:"/",query:{redirect:t.fullPath}}):a()});var A=E;let D;s.a.config.productionTip=!1,r.a.auth().onAuthStateChanged(t=>{D||(D=new s.a({el:"#app",router:A,template:"<App/>",components:{App:u}}))})},x1FY:function(t,e){},yPkf:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.75d1d5508858076fc1b0.js.map